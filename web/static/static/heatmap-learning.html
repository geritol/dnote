
<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <meta property="og:title" content="Everything I Learned While Programming for a Month" />
<meta property="og:site_name" content="Dnote - Instantly Capture Your Coding Wisdom" />
<meta property="og:url" content="https://www.getdnote.com/blog/writing-everything-i-learn-coding-for-a-month/" />


	<meta property="og:type" content="article" />
  <meta property="og:image" content="https://www.getdnote.com/static/heatmap-learning-thumbnail.png" />
  <meta property="og:article:published_time" content="2018-02-20T10:54:24&#43;02:00" />
  <meta property="og:description" content="A heatmap of how much an ordinary programmer learns" />

    <meta property="og:article:tag" content="Story" />
		<meta name="twitter:card" content="summary_large_image"/>
		<meta name="twitter:image" content="https://www.getdnote.com/static/heatmap-learning-thumbnail.png"/>

<meta name="twitter:title" content="Everything I Learned While Programming for a Month"/>
<meta name="twitter:description" content="A heatmap of how much an ordinary programmer learns"/>
	<meta name="twitter:site" content="@www.getdnote.com"/>

  <title>
     Everything I Learned While Programming for a Month | Dnote
  </title>


    <meta name="description" content="How we learn and grow every day as engineers" />

    <link href='//fonts.googleapis.com/css?family=Lato:400,700' rel='stylesheet' type='text/css' />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.min.js" integrity="sha256-ABVkpwb9K9PxubvRrHMkk6wmWcIHUE9eBxNZLXYQ84k=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.5/lodash.core.min.js" integrity="sha256-/WikzFcmjMZS+es0fni22evPN2lgZh8Dk2XXI/ZFtxM=" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/tippy.js/dist/tippy.all.min.js"></script>

  <style>
    body {
      padding: 8px;
      font-family: 'Lato', sans-serif;
    }
    h1 {
      margin: 0;
    }
    #lesson-heatmap {
      padding-top: 50px;
    }
  </style>

        <script>
        if (window.location.href.indexOf('www.getdnote.com') > -1) {
  (function (i, s, o, g, r, a, m) {
    i.GoogleAnalyticsObject = r;
    (i[r] =
      i[r] ||
      function () {
        (i[r].q = i[r].q || []).push(arguments);
      }), (i[r].l = 1 * new Date());
    (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m);
  }(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga'));

  ga('create', 'UA-55773666-16', 'auto');
  ga('send', 'pageview');
}
</script>


<script src="https://d3js.org/d3.v4.min.js"></script>
</head>
<body>
  <h1 class="post-title">Everything I Learned While Programming for a Month</h1>
  <p>Learning frequency of an ordinary programmer. Feel free to hover around, or <a href="/blog/writing-everything-i-learn-coding-for-a-month" target="_blank">read the experiment</a>.</p>

  <div id="lesson-heatmap"></div>

  <script>
  const timestamps = {
  '2017-10-10': 2,
  '2017-10-12': 1,
  '2017-10-14': 1,
  '2017-10-17': 1,
  '2017-10-19': 1,
  '2017-10-24': 1,
  '2017-10-3': 1,
  '2017-10-4': 1,
  '2017-10-6': 1,
  '2017-10-7': 1,
  '2017-11-1': 1,
  '2017-11-15': 1,
  '2017-11-20': 1,
  '2017-11-21': 1,
  '2017-11-22': 1,
  '2017-11-25': 1,
  '2017-11-5': 1,
  '2017-12-11': 2,
  '2017-12-12': 3,
  '2017-12-14': 2,
  '2017-12-19': 3,
  '2017-12-21': 1,
  '2017-12-22': 1,
  '2017-12-5': 3,
  '2017-5-10': 1,
  '2017-5-11': 1,
  '2017-5-16': 2,
  '2017-5-18': 1,
  '2017-5-8': 1,
  '2017-5-9': 1,
  '2017-7-11': 1,
  '2017-7-12': 3,
  '2017-7-23': 1,
  '2017-9-12': 1,
  '2017-9-13': 1,
  '2017-9-19': 3,
  '2017-9-20': 3,
  '2017-9-21': 2,
  '2017-9-22': 2,
  '2017-9-23': 3,
  '2017-9-24': 1,
  '2017-9-30': 1,
  '2018-1-10': 2,
  '2018-1-11': 1,
  '2018-1-12': 5,
  '2018-1-14': 3,
  '2018-1-15': 4,
  '2018-1-17': 4,
  '2018-1-18': 4,
  '2018-1-19': 8,
  '2018-1-22': 4,
  '2018-1-23': 4,
  '2018-1-24': 1,
  '2018-1-25': 1,
  '2018-1-29': 3,
  '2018-1-30': 6,
  '2018-1-31': 1,
  '2018-1-8': 1,
  '2018-1-9': 1,
  '2018-2-1': 3,
  '2018-2-12': 5,
  '2018-2-13': 3,
  '2018-2-14': 5,
  '2018-2-15': 10,
  '2018-2-16': 4,
  '2018-2-18': 1,
  '2018-2-19': 1,
  '2018-2-2': 2,
  '2018-2-4': 2,
  '2018-2-6': 5,
  '2018-2-7': 5,
  '2018-2-8': 6,
  '2018-2-9': 7
};

function getSystemDate(systemUtcOffsetSeconds) {
  const date = new Date();
  const localUtcOffsetMinutes = 0 - date.getTimezoneOffset();
  const systemUtcOffsetMinutes = systemUtcOffsetSeconds / 60;
  date.setMinutes(date.getMinutes() - localUtcOffsetMinutes + systemUtcOffsetMinutes);
  return date;
}

function getDayDifference(a, b) {
  const millisecondsPerDay = 1000 * 60 * 60 * 24;
  const date1 = Date.UTC(a.getFullYear(), a.getMonth(), a.getDate());
  const date2 = Date.UTC(b.getFullYear(), b.getMonth(), b.getDate());

  return Math.floor((date2 - date1) / millisecondsPerDay);
}

// Given a date object returns the day of the week in English
const getDayName = function (date) {
  return ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'][
    date.getDay()
  ];
};

function formatTooltipText({ date, count }) {
  const dateObject = new Date(date);
  const dateDayName = getDayName(dateObject);
  const dateText = moment(dateObject).format('MMM D YYYY');

  let contribText = 'No learning';
  if (count > 0) {
    contribText = `${count} learning${count > 1 ? 's' : ''}`;
  }
  return `<div class="learning-count">${contribText}</div><div class="learning-date">${dateDayName} ${dateText}</div>`;
}

const LessonHeatmap = {
  init() {
    this.daySpace = 6;
    this.daySize = 42;

    this.daySizeWithSpace = this.daySize + this.daySpace * 2;
    this.monthNames = [
      'Jan',
      'Feb',
      'Mar',
      'Apr',
      'May',
      'Jun',
      'Jul',
      'Aug',
      'Sep',
      'Oct',
      'Nov',
      'Dec'
    ];
    this.months = [];
    this.group = 0;

    // Init color functions
    this.colorKey = this.initColorKey();
    this.color = this.initColor();

    // Loop through the timestamps to create a group of objects
    // The group of objects will be grouped based on the day of the week they are
    this.timestampsTmp = [];

    const today = new Date(2018, 1, 19);
    today.setHours(0, 0, 0, 0, 0);

    // const oneYearAgo = new Date(today);
    // oneYearAgo.set(today.getFullYear() - 1);
    const oneYearAgo = new Date(2018, 0, 1);

    const days = getDayDifference(oneYearAgo, today);

    for (let i = 0; i <= days; i += 1) {
      const date = new Date(oneYearAgo);
      date.setDate(date.getDate() + i);

      const day = date.getDay();
      const count = timestamps[moment(date).format('YYYY-M-D')] || 0;

      // Create a new group array if this is the first day of the week
      // or if is first object
      if ((day === 0 && i !== 0) || i === 0) {
        this.timestampsTmp.push([]);
        this.group += 1;
      }

      // Push to the inner array the values that will be used to render map
      const innerArray = this.timestampsTmp[this.group - 1];
      innerArray.push({ count, date, day });
    }
  },

  mount() {
    this.svg = this.renderSvg();
    this.renderDays();
    this.renderDayTitles();
    this.renderMonths();
    this.renderLegends();

    tippy('.js-tooltip', {
      arrow: true,
      theme: 'dnote'
    });
  },

  // Add extra padding for the last month label if it is also the last column
  getExtraWidthPadding(group) {
    let extraWidthPadding = 0;
    const lastColMonth = this.timestampsTmp[group - 1][0].date.getMonth();
    const secondLastColMonth = this.timestampsTmp[group - 2][0].date.getMonth();

    if (lastColMonth !== secondLastColMonth) {
      extraWidthPadding = 9;
    }

    return extraWidthPadding;
  },

  initColor() {
    const colorRange = [
      '#f2f2f2',
      this.colorKey(0),
      this.colorKey(1),
      this.colorKey(2),
      this.colorKey(3)
    ];

    return d3.scaleThreshold().domain([0, 2, 4, 6]).range(colorRange);
  },

  initColorKey() {
    return d3.scaleLinear().range(['#FFECBF', '#FF0003']).domain([0, 3]);
  },

  renderSvg() {
    return d3
      .select('#lesson-heatmap')
      .append('svg')
      .attr('width', 900)
      .attr('height', 600)
      .attr('class', 'lesson-calendar');
  },

  renderDays() {
    this.svg
      .selectAll('g')
      .data(this.timestampsTmp)
      .enter()
      .append('g')
      .attr('transform', (group, i) => {
        _.each(group, (stamp, a) => {
          if (a === 0 && stamp.day === 0) {
            const month = stamp.date.getMonth();
            const x = this.daySizeWithSpace * i + 1 + this.daySizeWithSpace;
            const lastMonth = _.last(this.months);
            if (
              lastMonth == null ||
              (month !== lastMonth.month && x - this.daySizeWithSpace !== lastMonth.x)
            ) {
              this.months.push({ month, x });
            }
          }
        });
        return `translate(${this.daySizeWithSpace * i + 1 + this.daySizeWithSpace}, 18)`;
      })
      .selectAll('rect')
      .data(stamp => stamp)
      .enter()
      .append('rect')
      .attr('x', '0')
      .attr('y', stamp => this.daySizeWithSpace * stamp.day)
      .attr('width', this.daySize)
      .attr('height', this.daySize)
      .attr(
        'fill',
        stamp => (stamp.count !== 0 ? this.color(Math.min(stamp.count, 40)) : '#f2f2f2')
      )
      .attr('title', stamp => formatTooltipText(stamp))
      .attr('class', 'js-tooltip')
      .on('click', this.clickDay);
  },

  renderDayTitles() {
    const days = [
      {
        text: 'Mon',
        y: 29 + this.daySizeWithSpace * 1
      },
      {
        text: 'Wed',
        y: 29 + this.daySizeWithSpace * 3
      },
      {
        text: 'Fri',
        y: 29 + this.daySizeWithSpace * 5
      }
    ];

    this.svg
      .append('g')
      .selectAll('text')
      .data(days)
      .enter()
      .append('text')
      .attr('text-anchor', 'middle')
      .attr('x', 18)
      .attr('y', day => day.y)
      .text(day => day.text)
      .attr('class', 'user-contrib-text');
  },

  renderMonths() {
    this.svg
      .append('g')
      .attr('direction', 'ltr')
      .selectAll('text')
      .data(this.months)
      .enter()
      .append('text')
      .attr('x', date => date.x)
      .attr('y', 10)
      .attr('class', 'user-contrib-text')
      .text(date => this.monthNames[date.month]);
  },

  renderLegends() {
    const keyValues = [
      '<div class="learning-count">No learning</div>',
      '<div class="learning-count">1 learning</div>',
      '<div class="learning-count">2-3 learnings</div>',
      '<div class="learning-count">4-5 learnings</div>',
      '<div class="learning-count">5+ learnings</div>'
    ];

    const keyColors = [
      '#f2f2f2',
      this.colorKey(0),
      this.colorKey(1),
      this.colorKey(2),
      this.colorKey(3)
    ];

    this.svg
      .append('g')
      .attr('transform', 'translate(695, 220)')
      .selectAll('rect')
      .data(keyColors)
      .enter()
      .append('rect')
      .attr('width', 25)
      .attr('height', 25)
      .attr('x', 0)
      .attr('y', (color, i) => 35 * i)
      .attr('fill', color => color)
      .attr('title', (color, i) => keyValues[i])
      .attr('data-container', 'body');

    this.svg
      .append('text')
      .attr('text-anchor', 'left')
      .attr('font-weight', '600')
      .attr('x', 735)
      .attr('y', 237)
      .text("Didn't Learn Anything");

    this.svg
      .append('text')
      .attr('text-anchor', 'left')
      .attr('font-weight', '600')
      .attr('x', 735)
      .attr('y', 273)
      .text('1 Lesson');
    this.svg
      .append('text')
      .attr('text-anchor', 'left')
      .attr('font-weight', '600')
      .attr('x', 735)
      .attr('y', 308)
      .text('2-3 Lessons');
    this.svg
      .append('text')
      .attr('text-anchor', 'left')
      .attr('font-weight', '600')
      .attr('x', 735)
      .attr('y', 343)
      .text('4-5 Lessons');
    this.svg
      .append('text')
      .attr('text-anchor', 'left')
      .attr('font-weight', '600')
      .attr('x', 735)
      .attr('y', 378)
      .text('5+ Lessons');
  }
};

LessonHeatmap.init();
LessonHeatmap.mount();
</script>
</body>
</html>
